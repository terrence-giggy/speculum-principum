# Research Analysis Workflow
# This workflow generates comprehensive research documents for in-depth analysis of topics

name: "Research Analysis"
description: "Comprehensive research and analysis workflow for detailed investigation"
version: "1.0.0"

# Labels that trigger this workflow (in addition to 'site-monitor')
trigger_labels:
  - "research"
  - "analysis"
  - "deep-dive"

# Output configuration
output:
  # Directory structure pattern (supports {issue_number}, {title_slug}, {date})
  folder_structure: "study/{issue_number}-research-analysis"
  
  # File naming pattern (supports {deliverable_name}, {issue_number}, {date})
  file_pattern: "{deliverable_name}.md"
  
  # Git branch naming pattern
  branch_pattern: "research-analysis/issue-{issue_number}"

# Required deliverables for this workflow
deliverables:
  - name: "research-overview"
    title: "Research Overview"
    description: "High-level overview and scope definition"
    template: "research_overview.md"
    required: true
    order: 1
    
  - name: "background-analysis"
    title: "Background Analysis" 
    description: "Historical context and existing knowledge review"
    template: "background_analysis.md"
    required: true
    order: 2
    
  - name: "methodology"
    title: "Research Methodology"
    description: "Approach and methods used for investigation"
    template: "methodology.md"
    required: true
    order: 3
    
  - name: "findings"
    title: "Key Findings"
    description: "Primary research results and discoveries"
    template: "findings.md"
    required: true
    order: 4
    
  - name: "recommendations"
    title: "Recommendations"
    description: "Actionable recommendations based on findings"
    template: "recommendations.md"
    required: true
    order: 5
    
  - name: "references"
    title: "References and Sources"
    description: "Bibliography and source documentation"
    template: "references.md"
    required: true
    order: 6
    
  - name: "appendices"
    title: "Appendices"
    description: "Supporting materials and detailed data"
    template: "appendices.md"
    required: false
    order: 7

# Processing configuration
processing:
  # Maximum time to spend on this workflow (in minutes)
  timeout: 120
  
  # Whether to request review before finalizing
  require_review: true
  
  # Whether to create a pull request automatically
  auto_pr: false
  
  # Additional context to provide to the agent
  context:
    focus_areas:
      - "Technical feasibility"
      - "Market implications" 
      - "Risk assessment"
      - "Implementation considerations"
    
    research_depth: "comprehensive"
    citation_style: "markdown"

# Validation rules
validation:
  # Minimum word count per deliverable
  min_word_count: 200
  
  # Required sections in each deliverable
  required_sections:
    - "Summary"
    - "Details"
    - "Conclusions"
  
  # Quality checks
  checks:
    - "citations_present"
    - "conclusions_supported"
    - "recommendations_actionable"