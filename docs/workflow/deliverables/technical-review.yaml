# Technical Review Workflow
# This workflow generates structured technical reviews and assessments

name: "Technical Review"
description: "Structured technical review and assessment workflow"
version: "1.0.0"

# Labels that trigger this workflow (in addition to 'site-monitor')
trigger_labels:
  - "technical-review"
  - "code-review"
  - "architecture"
  - "security-review"

# Output configuration
output:
  # Directory structure pattern
  folder_structure: "study/{issue_number}-technical-review"
  
  # File naming pattern
  file_pattern: "{deliverable_name}.md"
  
  # Git branch naming pattern
  branch_pattern: "technical-review/issue-{issue_number}"

# Required deliverables for this workflow
deliverables:
  - name: "technical-overview"
    title: "Technical Overview"
    description: "High-level technical assessment and scope"
    template: "technical_overview.md"
    required: true
    order: 1
    
  - name: "architecture-analysis"
    title: "Architecture Analysis"
    description: "System architecture review and assessment"
    template: "architecture_analysis.md"
    required: true
    order: 2
    
  - name: "security-assessment"
    title: "Security Assessment"
    description: "Security implications and vulnerability analysis"
    template: "security_assessment.md"
    required: true
    order: 3
    
  - name: "performance-analysis"
    title: "Performance Analysis"
    description: "Performance characteristics and optimization opportunities"
    template: "performance_analysis.md"
    required: true
    order: 4
    
  - name: "code-quality-review"
    title: "Code Quality Review"
    description: "Code quality, maintainability, and best practices assessment"
    template: "code_quality_review.md"
    required: true
    order: 5
    
  - name: "risk-assessment"
    title: "Risk Assessment"
    description: "Technical risks and mitigation strategies"
    template: "risk_assessment.md"
    required: true
    order: 6
    
  - name: "recommendations"
    title: "Technical Recommendations"
    description: "Specific technical recommendations and next steps"
    template: "technical_recommendations.md"
    required: true
    order: 7
    
  - name: "implementation-plan"
    title: "Implementation Plan"
    description: "Detailed plan for implementing recommendations"
    template: "implementation_plan.md"
    required: false
    order: 8

# Processing configuration
processing:
  # Maximum time to spend on this workflow (in minutes)
  timeout: 90
  
  # Whether to request review before finalizing
  require_review: true
  
  # Whether to create a pull request automatically
  auto_pr: false
  
  # Additional context to provide to the agent
  context:
    focus_areas:
      - "Scalability concerns"
      - "Security vulnerabilities"
      - "Performance bottlenecks"
      - "Maintainability issues"
      - "Compliance requirements"
    
    review_depth: "detailed"
    include_code_examples: true

# Validation rules
validation:
  # Minimum word count per deliverable
  min_word_count: 150
  
  # Required sections in each deliverable
  required_sections:
    - "Overview"
    - "Analysis"
    - "Recommendations"
  
  # Quality checks
  checks:
    - "technical_accuracy"
    - "actionable_recommendations"
    - "risk_mitigation_provided"